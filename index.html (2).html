<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ì•ˆì¤‘ê·¼ í‰í™” ë§ˆë¼í†¤ ë‹¹ì¼ ë™ì„ </title>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans KR', sans-serif; display: flex; height: 100vh; overflow: hidden; background: #f5f5f5; }

  /* Sidebar */
  .sidebar { width: 380px; min-width: 380px; height: 100vh; overflow-y: auto; background: #fff; border-right: 1px solid #e0e0e0; }
  .sidebar-header { background: linear-gradient(135deg, #1B4F72, #2E86C1); color: #fff; padding: 24px 20px; }
  .sidebar-header h1 { font-size: 18px; font-weight: 700; margin-bottom: 4px; }
  .sidebar-header p { font-size: 13px; opacity: 0.85; }
  .sidebar-narrative { padding: 14px 20px; font-size: 13px; color: #666; background: #f9fafb; border-bottom: 1px solid #eee; line-height: 1.6; }

  /* Timeline */
  .timeline { padding: 16px 20px; }
  .day-title { font-size: 14px; font-weight: 700; color: #1B4F72; margin-bottom: 16px; display: flex; align-items: center; gap: 8px; }
  .day-title::before { content: ''; width: 4px; height: 18px; background: #2E86C1; border-radius: 2px; }

  .stop { display: flex; gap: 14px; margin-bottom: 0; position: relative; }
  .stop-line { display: flex; flex-direction: column; align-items: center; width: 32px; min-width: 32px; }
  .stop-dot { width: 32px; height: 32px; border-radius: 50%; background: #2E86C1; color: #fff; font-size: 14px; font-weight: 700; display: flex; align-items: center; justify-content: center; flex-shrink: 0; z-index: 1; }
  .stop-dot.food { background: #E67E22; }
  .stop-dot.end { background: #95A5A6; }
  .stop-connector { width: 2px; flex: 1; background: #dde4ea; margin: 2px 0; }

  .stop-content { flex: 1; padding-bottom: 20px; }
  .stop-time { font-size: 12px; color: #2E86C1; font-weight: 600; margin-bottom: 2px; }
  .stop-name { font-size: 14px; font-weight: 600; color: #1a1a1a; margin-bottom: 4px; }
  .stop-notes { font-size: 12.5px; color: #666; line-height: 1.5; }
  .stop-meta { display: flex; gap: 12px; margin-top: 6px; flex-wrap: wrap; }
  .stop-meta span { font-size: 11px; color: #999; display: flex; align-items: center; gap: 3px; }

  .stop:last-child .stop-connector { display: none; }
  .stop:last-child .stop-content { padding-bottom: 8px; }

  /* Map */
  #map { flex: 1; height: 100vh; }

  /* Custom marker */
  .custom-marker { background: #2E86C1; color: #fff; width: 28px; height: 28px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 14px; font-weight: 700; border: 2px solid #fff; box-shadow: 0 2px 6px rgba(0,0,0,0.3); }
  .custom-marker.food { background: #E67E22; }
  .custom-marker.end { background: #95A5A6; }

  /* Popup */
  .leaflet-popup-content { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans KR', sans-serif; }
  .popup-title { font-weight: 700; font-size: 14px; color: #1B4F72; margin-bottom: 4px; }
  .popup-desc { font-size: 12px; color: #555; line-height: 1.5; }

  /* Responsive */
  @media (max-width: 768px) {
    body { flex-direction: column; }
    .sidebar { width: 100%; min-width: unset; height: 45vh; }
    #map { height: 55vh; }
  }

  /* Scrollbar */
  .sidebar::-webkit-scrollbar { width: 6px; }
  .sidebar::-webkit-scrollbar-track { background: transparent; }
  .sidebar::-webkit-scrollbar-thumb { background: #ccc; border-radius: 3px; }
  .sidebar::-webkit-scrollbar-thumb:hover { background: #aaa; }
</style>
</head>
<body>

<div class="sidebar">
  <div class="sidebar-header">
    <h1>ğŸƒ ì•ˆì¤‘ê·¼ í‰í™” ë§ˆë¼í†¤ ë‹¹ì¼ ë™ì„ </h1>
    <p>2026ë…„ 3ì›” 1ì¼(ì¼) Â· ì„œìš¸ ìƒì•”ì›”ë“œì»µê³µì›</p>
  </div>
  <div class="sidebar-narrative">
    ê°ì ì›”ë“œì»µê²½ê¸°ì¥ì—­ ë„ì°© â†’ í‰í™”ê´‘ì¥ì—ì„œ ë°°ë²ˆí˜¸ ìˆ˜ë ¹ ë° ì¤€ë¹„ â†’ 08:00 ì§‘ê²° â†’ ë§ˆë¼í†¤ â†’ ì‹ì‚¬ â†’ í•´ì‚°
  </div>
  <div class="timeline">
    <div class="day-title">ë§ˆë¼í†¤ ë‹¹ì¼ ë™ì„ </div>

    <div class="stop" data-index="0">
      <div class="stop-line">
        <div class="stop-dot">1</div>
        <div class="stop-connector"></div>
      </div>
      <div class="stop-content">
        <div class="stop-time">7:30 AM</div>
        <div class="stop-name">ì›”ë“œì»µê²½ê¸°ì¥ì—­ 1ë²ˆ ì¶œêµ¬ (ê°ì ë„ì°©)</div>
        <div class="stop-notes">~07:30 ê°ì ë„ì°© í›„ í‰í™”ê´‘ì¥ìœ¼ë¡œ ì´ë™</div>
        <div class="stop-meta">
          <span>â± ì•½ 10ë¶„ ì†Œìš”</span>
          <span>ğŸš¶ ë„ë³´ 650m</span>
        </div>
      </div>
    </div>

    <div class="stop" data-index="1">
      <div class="stop-line">
        <div class="stop-dot">2</div>
        <div class="stop-connector"></div>
      </div>
      <div class="stop-content">
        <div class="stop-time">7:45 AM ~ 10:30 AM</div>
        <div class="stop-name">í‰í™”ê´‘ì¥ â€” ë°°ë²ˆí˜¸ ìˆ˜ë ¹ & 08:00 ì§‘ê²°</div>
        <div class="stop-notes">ë°°ë²ˆí˜¸ ìˆ˜ë ¹ â†’ í™˜ë³µ â†’ 08:00 ì¶œë°œ ëŒ€ê¸°ì¥ ì• ì¡°ì› ì§‘ê²° â†’ 09:00 ì¶œë°œ!</div>
        <div class="stop-meta">
          <span>ğŸ… ë§ˆë¼í†¤ ì¶œë°œ 09:00</span>
          <span>ğŸ’§ 2.5kmë§ˆë‹¤ ê¸‰ìˆ˜ëŒ€</span>
        </div>
      </div>
    </div>

    <div class="stop" data-index="2">
      <div class="stop-line">
        <div class="stop-dot food">3</div>
        <div class="stop-connector"></div>
      </div>
      <div class="stop-content">
        <div class="stop-time">11:10 AM</div>
        <div class="stop-name">ğŸ² ìƒì•”ì–‘í‰í•´ì¥êµ­ (ì‹ì‚¬)</div>
        <div class="stop-notes">ë§ˆë¼í†¤ í›„ ë”°ëœ»í•œ í•´ì¥êµ­ìœ¼ë¡œ í”¼ë¡œ íšŒë³µ! ì„ ì§€í•´ì¥êµ­ ì¶”ì²œ</div>
        <div class="stop-meta">
          <span>â­ 3.9 (460+)</span>
          <span>â± ì•½ 80ë¶„</span>
          <span>ğŸ• ì¼ìš”ì¼ ~22:00</span>
        </div>
      </div>
    </div>

    <div class="stop" data-index="3">
      <div class="stop-line">
        <div class="stop-dot end">4</div>
      </div>
      <div class="stop-content">
        <div class="stop-time">12:30 PM</div>
        <div class="stop-name">ì›”ë“œì»µê²½ê¸°ì¥ì—­ (í•´ì‚°)</div>
        <div class="stop-notes">ì‹ì‚¬ í›„ ê°ì ê·€ê°€</div>
        <div class="stop-meta">
          <span>ğŸš‡ 6í˜¸ì„ </span>
        </div>
      </div>
    </div>

  </div>
</div>

<div id="map"></div>

<script>
const stops = [
  { lat: 37.5697, lng: 126.8991, name: 'ì›”ë“œì»µê²½ê¸°ì¥ì—­ 1ë²ˆ ì¶œêµ¬', desc: '~07:30 ê°ì ë„ì°© í›„ í‰í™”ê´‘ì¥ìœ¼ë¡œ ì´ë™', cls: '' },
  { lat: 37.5678, lng: 126.8937, name: 'í‰í™”ê´‘ì¥ (ë°°ë²ˆí˜¸ ìˆ˜ë ¹ & 08:00 ì§‘ê²°)', desc: 'ë°°ë²ˆí˜¸ ìˆ˜ë ¹ â†’ í™˜ë³µ â†’ 08:00 ì§‘ê²° â†’ 09:00 ì¶œë°œ!', cls: '' },
  { lat: 37.5777, lng: 126.8949, name: 'ìƒì•”ì–‘í‰í•´ì¥êµ­', desc: 'ì„ ì§€í•´ì¥êµ­ ì¶”ì²œ / ì¼ìš”ì¼ ~22:00', cls: 'food' },
  { lat: 37.5697, lng: 126.8991, name: 'ì›”ë“œì»µê²½ê¸°ì¥ì—­ (í•´ì‚°)', desc: '12:30~ ì‹ì‚¬ í›„ ê°ì ê·€ê°€', cls: 'end' }
];

// Init map
const map = L.map('map', { zoomControl: true }).setView([37.573, 126.894], 15);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  attribution: 'Â© OpenStreetMap',
  maxZoom: 19
}).addTo(map);

// Draw route line
const routeCoords = stops.map(s => [s.lat, s.lng]);
L.polyline(routeCoords, { color: '#2E86C1', weight: 4, opacity: 0.8, dashArray: '8, 8' }).addTo(map);

// Add markers
const markers = stops.map((s, i) => {
  const icon = L.divIcon({
    className: '',
    html: `<div class="custom-marker ${s.cls}">${i + 1}</div>`,
    iconSize: [28, 28],
    iconAnchor: [14, 14]
  });
  const marker = L.marker([s.lat, s.lng], { icon })
    .addTo(map)
    .bindPopup(`<div class="popup-title">${s.name}</div><div class="popup-desc">${s.desc}</div>`);
  return marker;
});

// Fit bounds
const group = L.featureGroup(markers);
map.fitBounds(group.getBounds().pad(0.15));

// Sidebar click interaction
document.querySelectorAll('.stop').forEach(el => {
  el.style.cursor = 'pointer';
  el.addEventListener('click', () => {
    const idx = parseInt(el.dataset.index);
    const s = stops[idx];
    map.flyTo([s.lat, s.lng], 17, { duration: 0.8 });
    markers[idx].openPopup();
  });
});
</script>
</body>
</html>
